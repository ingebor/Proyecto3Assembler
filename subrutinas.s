@Subrutinas para numero aleatorio de: Villena, A. & Asenjo, R. & Corbera, F. en Practicas basadas en Raspberry Pi
@Ayleen Rubio y Andres Say 19003, 19705
.data
seed: 	.word 	1
const1:	.word	2
const2:	.word	2
libro:	.asciz "...............................:M~..............,,.....................\n...................+~........+ ...................,$...................\n.............M,.,.......?..M.........................M.................\n..........M .............. ............................O...............\n.....,~......................M............................:............\n...N............................M.............................M........\n.:.N.. $...........................M,..........................~MMZN...\n..$.N...=.............................................:MM~..........:..\n...O.N...=............................O.........,M:..................?.\n.....M.M................................$..M......,M............~=+?+Z.\n......M M.....................N8.........~MM....M....=M$...............\n.......M.M................M,.............N.......M.....................\n........M.M..,:.......,M ...........MN........=8.......................\n..........M.M...IM.........N,.,,M......................................\n............M.M.M....M..M:.............................................\n.............M.MM.M. M.................................................\n..............M.,.M....................................................\n"
tubo:	.asciz "... $~~~~~~~~~~~$:...\n....Z           $=...\n...  $         $. ...\n.... $         $.....\n.... $         $.....\n.... $ ........$.....\n.... $ ........$.....\n.....$.........$.....\n.... $ ........$.....\n.....$.........Z.....\n..... $.......$......\n.......$$$+7$$.......\n"
lapiz:	.asciz "      8MMMMMMMMMMMM8    \n.. . ?MMZZZMNMMMZZNZN   \n ....NNNNMZZNZMMMMZZN   \n.. . Z   . . .      Z.  \n.   .Z   . . .      D.  \n.   .D   . . .      D ,:\n..  .D   . . .      D:  \n    .D   . . .      D.. \n    .D   . . .      D.  \n    +Z   . . .      O .,\n    =Z   . . .      Z.  \n     ?.  . . .      ., .\n     z   . . .      .Z  \n    .D.  .   .      .D. \n     .I.           I.   \n.   .  I.         I..   \n        .Z.ZMZZ.Z      \n          .MMMMM        \n            MMM.        \n         ....M:         \n"                  
pelota:	.asciz " ..    .......OMMMNNMMMN.   .                     \n ...   .. 8MMD. .........MM:...                  \n. .   .M  ....~M,.      ..M?M..                 \n... ,D..............M, ..... I..M             \n  . ?.  ... ........  M ..... M .M .         \n . $ . ........      .. M8.. .~.  M .  .    \n..M..  ................. ..MMI:MNM~M.      \n O......,~::,.......... .. . ..M  .7 ..   \n.M7M=... ... .....=8MMD~..    .M.  .D  \n.M...                   ..:MM$ M....M.\n ~. .. .  ..                . .MMM..M. \n +. . ........               . :...MM...\n M.    . .....  ..  .  .......N.   .M. \n M....... .. .. .. ...~MM~ . :M .  .?.  \n,,    . .........=MO ..    .N.7...M.. \n..M.        ..7M7 ... .. .. .+..M..=....\n...M.. ..ZMM:..... .. ..  ..M ..=.M ....~\n ...M .........           .M.....M. .\n     M.       .         ..M. ..,$...\n .   ..M......         .N, .. M...  .\n.     ..=M....        :M....M. .      \n      .  ..IMI......M+..DM..  ....\n..    ...  ...  :7OOI,...... .     \n"                              
casco:	.asciz "       8OO8O,             $OOO8O88OOO8~  ,87. \n      8O.           ...ZO8. . .O ... ..8O8\n     .8              $8.8O....=O888?......\n     .8              $8.8O....=O888?......\n    O?.           .OD. ..OO8.  ... .88O.....  \n    .O             O8. .8O   .      ....ZO... \n   .I8          ..88. .O   .            ,.O.. \n   .8,           .O ..O.. 8O$              O8 \n  . 8..         .8Z .8.. OO                .O=. \n  ..8..         .O..+8..8O                 ..O. \n    .O.          .8..8: .  .                  88 \n   .O88.         O. O.   ..      ...        =8OO8.  \n      .OD        8+.O.        88OOOOOOO88I...  .O+\n    ZO7.     .. OO..O.        .8..             .?O\n   ..O..     ..8 . .O.         ,O=... .  .      .O .\n    .O.    ..88.   .O.          ..8OO88OOO8      8O.\n     88   .+8      .O.              .D8 ...O8    .O.\n     .O  .O8       .O.               .O8....O? . .O.\n      8OIO .       .88OOOOOOO8.      ...8OOOO8.. .O\n      .O8,         .O.........          .. . OD. .8$\n\n      ...          .O8888888888              ..$OO?8\n" 
planeta:	.asciz "........N.......:=....................:=:.................\n.....M  D........MM.............MM~  ...... ,MM:..........\n..$DIZ...........  M........:M:................. M+.......\n..N..............,..? ....+M ..............:ZMM+M..OD.....\n.. MMMM8M,....$MZ~8N ..?M..:N .........$+..........,I$...\n..........   . ........MM8.....MN,..  .$M.........NM:.~N...\n......................M ..+,........ ...........M ......N ..\n.....................M ....M....................8I.......M...\n....................M .....M..................... 7M .....M..\n....................I......=..........:MM$M........ M.....?.\n...................M .....M .........M....M.........:M.....M.\n...................Z.....=,.......... 8.. +... 8$?: .....+$8,.\n..................7 ......IM...........M..N....=.......M....D.\n..................M......... ND........M.:....$.......M....M.\n..................M.............8......8M.....M........~ ..M.\n..................7 ..........$M=................D? ....N .D..\n.................. $.......M.......................M.... M.,.\n...................MM  ....+.......................M....8 .D.\n........................=N? .......,DNI... ......+ ..$I ......M ...N......\n......................... O8.....8NMN8:  8+M...M.=.M,......,~Z... ,:+....\n............................=MZD...........,8M:. NO.......+OI. ...... O...\n............................. .IMI ..........+MO.........M............:?7.\n......................................,,,,............... .+=,+MMMMI?D8 .\n"
television:	.asciz "...............................,..7O.......8,....................\n ......,,....................... ...,O.....O ......... ...........\n.....................................O...O.......................\n.......................... .........Z=,?$88........,.,...........\n....................ZOOOO$OOOOOOOOOOOOOOOO88Z8OOO7OIOOOO8O  .....\n...................Z.....,...........................Z..8O.O..... \n.................. ..... . ...............  .............. .O....\n..................O....O......=....:.?7OOOZOO .... OOO8...OO.... \n..................O....,.......Z........:.,. .IO..O.88O.8.O.O ... \n..................O...8......  ..........,. ...8..OOO8..O.O.O....\n..................O...O .............. .,.. ...O...?OOO7....O ... \n..................8...O..... .?......,.. .. ...O...........OO.... \n..................8...O. ....O...............:8....+OO....,O.... \n..................O...8... .I......Z. .......,.O.....:.8..+.O....\n..................O...8... .I......Z. .......,.O.....:.8..+.O.... \n..................O...O. ..7......$.,. .....: .O....8..O.. .Z.... \n..................O...O...8..... $.........:..,O.... ......?Z.... \n......,.,.........8...O .O .,..,8. . .....~....O...........:O.... \n......,...........O...O.O......Z.... ....O.....O..~OZ.,.8..OO.... \n..................O...O?......O ........O.. ...O..OIOOZZO..,O.... \n..................O...8......Z....,....O.  ... O..O.. . 8...O.... \n..................O....OO8Z$OOOOOOOOOOO8OOOOO8O .. O...:8...O.... \n..................O ......................................: O.... \n...................O8,.................................... OZ.... \n.................... .I8OOOOOOOOOOOOO8OOOZOOOOOOOOOOOOOOOOD......   \n"
medalla:	.asciz " .................M...M..N=.......NI..M..8O..........\n ..................:M..8+.,M......,M..$8..M..........\n ...................M=..M..D7.....M:. M..D=..........\n....................M..$I. M ...+N..N+.,M...........\n ....................88..M..7D...M..,M..D~...........\n .....................M..$O..M:.+Z..M,. M............\n .....................M..M..,M.M..$D..M:............\n ......................M,.~M..DM$..M..~M.............\n ...................... M..7NMMMMMD=..M .............\n .......................MMI........:ZMM..........\n ....................,MO.,8MN$+=?ZMM$..ON........\n ...................DD.:M?.....M..,..ZM:.M=......\n ..................M7.NM...?M..M..M,...MZ.M7.....\n .................N?.M=.ON.....O.....MD.78.M+....\n ................~N.M+.........M.... ....D= M,...\n ................M..M.7MM.....DZZ.....MM7 M.OZ...\n ................M.D7....DMMMMM.MMMMM7....M.,M...\n ................M.N= MM,..ZM...7M=...MM.N=.M...\n  ................M D$.......,M.I M........M.:M...\n ................M:.M.?MN...MNM:MM$...MM?,M.8I...\n ................N.M+, ...:M....=M .....D M....\n .................M?.M+.=M. ........,M=.7O M+....\n ..................M7 NM...~M..M..M....M$.MI.....\n ...................$M. M8. ...M..,..MM ,M.......\n .....................MM..7MMNZ$OMMM=..MD........\n  .......................OMO:.......~NM7,.........\n ..........................,+8MMMZ=,........... \n"
formato:	.asciz	"%s\n"

.text
.global myrand, mysrand

myrand:
	ldr r1, =seed	@puntero a semilla
	ldr r0, [r1]	@leer valor
	ldr r2, [r1,#4]	@leer const1
	mul r3, r0, r2	@r3=seed*1103515245
	ldr r0, [r1,#8]	@leer const2
	add r0, r0, r3	@r0=r3+12345
	str r0, [r1]	@guardo en variable seed
	lsl r0, #1	@devuelve seed>>16&0x7FFF
	lsr r0, #17
	mov pc, lr
mysrand:
	ldr r1, =seed
	str r0, [r1]
	mov pc, lr
	
.global mostrarLibro
mostrarLibro:
	push {lr}				
	ldr r1,=libro
	ldr r0,=formato
	bl printf				/* Mostrar personaje ganado */
	pop {lr}
	mov pc,lr
	
.global mostrarTubo
mostrarTubo:
	push {lr}
	ldr r1,=tubo
	ldr r0,=formato
	bl printf				/* Mostrar personaje ganado */
	pop {lr}
	mov pc,lr
	
.global mostrarLapiz
mostrarLapiz:
	push {lr}
	ldr r1,=lapiz
	ldr r0,=formato
	bl printf				/* Mostrar personaje ganado */
	pop {lr}
	mov pc,lr
	
.global mostrarPelota
mostrarPelota:
	push {lr}
	ldr r1,=pelota
	ldr r0,=formato
	bl printf				/* Mostrar personaje ganado */
	pop {lr}
	mov pc,lr
	
.global mostrarCasco
mostrarCasco:
	push {lr}
	ldr r1,=casco
	ldr r0,=formato
	bl printf				/* Mostrar personaje ganado */
	pop {lr}
	mov pc,lr
	
.global mostrarPlaneta
mostrarPlaneta:
	push {lr}
	ldr r1,=planeta
	ldr r0,=formato
	bl printf				/* Mostrar personaje ganado */
	pop {lr}
	mov pc,lr
	
.global mostrarTelevision
mostrarTelevision:
	push {lr}
	ldr r1,=television
	ldr r0,=formato
	bl printf				/* Mostrar personaje ganado */
	pop {lr}
	mov pc,lr
	
.global mostrarMedalla
mostrarMedalla:
	push {lr}
	ldr r1,=medalla
	ldr r0,=formato
	bl printf				/* Mostrar personaje ganado */
	pop {lr}
	mov pc,lr
